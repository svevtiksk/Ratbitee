- type: entity
  parent: BaseLathe
  id: ScrapRefiner
  name: SHI scrap upcycler
  description: An automated refinery with scrap metal refinement patterns.
  components:
  - type: Sprite
    sprite: Structures/Machines/sheetifier.rsi
    layers:
    - state: base_machine
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: buttons_on
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
  - type: MaterialStorage
    dropOnDeconstruct: true #should drop ores instead of ingots/sheets
    ignoreColor: true
    canEjectStoredMaterials: true
    whitelist:
      tags:
      - RawMaterial
  - type: Lathe
    idleState: base_machine
    runningState: base_machine_processing
    staticPacks:
    - C_ScrapRefinerStatic

- type: entity
  parent: [ BaseMachinePowered, ConstructibleMachine ]
  id: IndustrialScrapRefiner
  name: Industrial SHI scrap upcycler
  description: An automated refinery with scrap metal refinement patterns. Now employing factory protocols! Throw scrap at it!
  components:
  - type: Sprite
    sprite: Structures/Machines/sheetifier.rsi
    layers:
    - state: base_machine
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: buttons_on
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
  - type: MaterialStorage
    dropOnDeconstruct: false #should drop ores instead of ingots/sheets
    ignoreColor: true
    canEjectStoredMaterials: true
    whitelist:
      tags:
      - RawMaterial
  - type: Lathe
    idleState: base_machine
    runningState: base_machine_processing
    staticPacks:
    - C_IndustrialScrapRefinerStatic

#drugs

- type: entity
  parent: BaseLathe
  id: DrugLathe
  name: interdyne pharmaceutic fablathe
  description: An automated fablathe with preloaded pharmaceutic patterns. Bears the Interdyne logo.
  components:
  - type: Sprite
    sprite: _Crescent/Structures/drugifier.rsi
    layers:
    - state: base_machine
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: buttons_on
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
  - type: MaterialStorage
    dropOnDeconstruct: false #should drop ores instead of ingots/sheets
    ignoreColor: true
    canEjectStoredMaterials: true
    whitelist:
      tags:
      - DrugComponent
      - Sheet
      - CraftMaterials
      - Ingot
      - RawMaterial
  - type: Lathe
    idleState: base_machine
    runningState: base_machine_processing
    staticPacks:
    - C_DrugLatheStatic
    dynamicPacks:
    - C_DrugLatheDynamic
  - type: Anchorable
    flags:
    - Anchorable


#microforge

- type: entity
  id: MicroforgeCircuitboard
  parent: BaseMachineCircuitboard
  name: microforge circuit
  description: A machine printed circuit board for a microforge.
  components:
    - type: Sprite
      state: security
    - type: MachineBoard
      prototype: PristineMicroforge
      requirements:
        MatterBin: 2
        Manipulator: 2

- type: entity
  id: PristineMicroforge
  parent: BaseLathe
  name: pristine microforge
  description: Used to print equipment discovered through techdisks, or researched.
  components:
  - type: MaterialStorage
    dropOnDeconstruct: false #should drop ores instead of ingots/sheets
    ignoreColor: true
    canEjectStoredMaterials: true
    whitelist:
      tags:
      - Sheet
      - CraftMaterials
      - Ingot
      - ShipParts
      - RawMaterial
      - ShipParts
  - type: Sprite
    sprite: _Crescent/Structures/nanoforge.rsi
    layers:
    - state: fab-active
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: fab-idle
    - state: fab-idle
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
    - state: fab-load
      map: ["enum.MaterialStorageVisualLayers.Inserting"]
    - state: fab-o
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
  - type: Lathe
    idleState: fab-idle
    runningState: fab-active
    staticPacks:
    - C_MicroforgeStatic
    dynamicPacks:
    - C_MicroforgeDSMDynamic
    - C_MicroforgeCDTDynamic
    - C_MicroforgeNCWLDynamic
    - C_MicroforgeSHIDynamic
    - ChemistryStatic
    - SurgeryStatic
    - AdvancedTools
    - ScienceEquipment
    - ScienceClothing
    - PowerCells
    - ScienceWeapons
    - Mining
    - AtmosTools
    - EngineeringWeapons
    - Chemistry
    - Janitor
    - Instruments
    - Equipment
    - Parts
    - Translator
  - type: Machine
    board: MicroforgeCircuitboard

#boriatic fuel thing

- type: entity
  parent: BaseLathe
  id: BoriaticRefiner
  name: SHI boriatic composter
  description: An automated refinery and fabricator that purifies various minerals into usable boriatic fuels.
  components:
  - type: Sprite
    sprite: _Crescent/Structures/purifier.rsi
    layers:
    - state: base_machine
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: buttons_on
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
  - type: Machine
    board: SheetifierMachineCircuitboard
  - type: MaterialStorage
    dropOnDeconstruct: false #should drop ores instead of ingots/sheets
    ignoreColor: true
    canEjectStoredMaterials: true
    whitelist:
      tags:
      - Sheet
      - Metal
  - type: Lathe
    idleState: base_machine
    runningState: base_machine_processing
    staticPacks:
    - C_BoriaticRefinerStatic

#ship parts

- type: entity
  parent: BaseLathe
  id: ShipyardManufactorum
  name: SHI shipyard manufactorum
  description: An automated assembler, constructing vessel components out of minerals.
  components:
  - type: Sprite
    sprite: _Crescent/Structures/shipfab.rsi
    layers:
    - state: base_machine
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: buttons_on
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
  - type: MaterialStorage
    dropOnDeconstruct: false #should drop ores instead of ingots/sheets
    ignoreColor: true
    canEjectStoredMaterials: true
    whitelist:
      tags:
      - Ingot
      - Sheet
      - Metal
  - type: Lathe
    idleState: base_machine
    runningState: base_machine_processing
    staticPacks:
    - C_ShipyardManufactorumStatic
  - type: Anchorable
    flags:
    - Anchorable

#organs

- type: entity
  parent: BaseLathe
  id: OrganPrinter
  name: IPM organic bioprinter
  description: An automated fablathe with preloaded organic patterns. Bears the Interdyne logo.
  components:
  - type: Sprite
    sprite: _Crescent/Structures/organfab.rsi
    layers:
    - state: fab-idle
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: buttons_on
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
  - type: MaterialStorage
    dropOnDeconstruct: false #should drop ores instead of ingots/sheets
    ignoreColor: true
    canEjectStoredMaterials: true
    whitelist:
      tags:
      - OrganMaterial
  - type: Lathe
    idleState: fab-idle
    runningState: fab-active
    staticPacks:
    - C_OrganPrinterStatic
  - type: Anchorable
    flags:
    - Anchorable


#crates
#imperial

- type: entity
  parent: BaseLathe
  id: ImperialTradeGoodPrinter
  name: Imperial commodity fablathe
  description: An automated fablathe preloaded with many commodity patterns. An imperial merchant's best friend.
  components:
  - type: Sprite
    sprite: _Crescent/Structures/cratefab.rsi
    layers:
    - state: fab-idle
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: buttons_on
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
  - type: MaterialStorage
    dropOnDeconstruct: false #should drop ores instead of ingots/sheets
    ignoreColor: true
    canEjectStoredMaterials: true
    whitelist:
      tags:
      - Sheet
      - Metal
      - RawMaterial
      - CraftMaterials
      - Ingot
  - type: Lathe
    idleState: fab-idle
    runningState: fab-active
    staticPacks:
    - C_ImperialTradeGoodsStatic
  - type: Anchorable
    flags:
    - Anchorable

#shi

- type: entity
  parent: BaseLathe
  id: CorporateTradeGoodPrinter
  name: Shinohara commodity fablathe
  description: An automated fablathe preloaded with many commodity patterns. A corporate merchant's best friend.
  components:
  - type: Sprite
    sprite: _Crescent/Structures/cratefab.rsi
    layers:
    - state: fab-idle
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: buttons_on
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
  - type: MaterialStorage
    dropOnDeconstruct: false #should drop ores instead of ingots/sheets
    ignoreColor: true
    canEjectStoredMaterials: true
    whitelist:
      tags:
      - Sheet
      - Metal
      - RawMaterial
      - CraftMaterials
      - Ingot
  - type: Lathe
    idleState: fab-idle
    runningState: fab-active
    staticPacks:
    - C_SHITradeGoodsStatic
  - type: Anchorable
    flags:
    - Anchorable

#saws

- type: entity
  parent: BaseLathe
  id: SawsTradeGoodPrinter
  name: Shipfitters commodity fablathe
  description: An hacked fablathe preloaded with many commodity patterns. A salvager merchant's best friend.
  components:
  - type: Sprite
    sprite: _Crescent/Structures/cratefab.rsi
    layers:
    - state: fab-idle
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: buttons_on
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
  - type: MaterialStorage
    dropOnDeconstruct: false #should drop ores instead of ingots/sheets
    ignoreColor: true
    canEjectStoredMaterials: true
    whitelist:
      tags:
      - Sheet
      - Metal
      - RawMaterial
      - CraftMaterials
      - Ingot
  - type: Lathe
    idleState: fab-idle
    runningState: fab-active
    staticPacks:
    - C_SAWTradeGoodsStatic
  - type: Anchorable
    flags:
    - Anchorable

#indie

- type: entity
  parent: BaseLathe
  id: GliessTradeGoodPrinter
  name: Gliess Santo commodity fablathe
  description: A hacked fablathe preloaded with many commodity patterns. A independent merchant's best friend.
  components:
  - type: Sprite
    sprite: _Crescent/Structures/cratefab.rsi
    layers:
    - state: fab-idle
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: buttons_on
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
  - type: MaterialStorage
    dropOnDeconstruct: false #should drop ores instead of ingots/sheets
    ignoreColor: true
    canEjectStoredMaterials: true
    whitelist:
      tags:
      - Sheet
      - Metal
      - RawMaterial
      - CraftMaterials
      - Ingot
  - type: Lathe
    idleState: fab-idle
    runningState: fab-active
    staticPacks:
    - C_GliessTradeGoodsStatic
  - type: Anchorable
    flags:
    - Anchorable

#ncwl

- type: entity
  parent: BaseLathe
  id: UnionTradeGoodPrinter
  name: Nova Balereska commodity fablathe
  description: A union fablathe preloaded with many commodity patterns. A communard merchant's best friend.
  components:
  - type: Sprite
    sprite: _Crescent/Structures/cratefab.rsi
    layers:
    - state: fab-idle
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: buttons_on
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
  - type: MaterialStorage
    dropOnDeconstruct: false #should drop ores instead of ingots/sheets
    ignoreColor: true
    canEjectStoredMaterials: true
    whitelist:
      tags:
      - Sheet
      - Metal
      - RawMaterial
      - CraftMaterials
      - Ingot
  - type: Lathe
    idleState: fab-idle
    runningState: fab-active
    staticPacks:
    - C_NCWLTradeGoodsStatic
  - type: Anchorable
    flags:
    - Anchorable

#ipm

- type: entity
  parent: BaseLathe
  id: InterdyneTradeGoodPrinter
  name: Interdyne commodity fablathe
  description: A hacked fablathe preloaded with many commodity patterns. An organlugging merchant's best friend.
  components:
  - type: Sprite
    sprite: _Crescent/Structures/cratefab.rsi
    layers:
    - state: fab-idle
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: buttons_on
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
  - type: MaterialStorage
    dropOnDeconstruct: false #should drop ores instead of ingots/sheets
    ignoreColor: true
    canEjectStoredMaterials: true
    whitelist:
      tags:
      - Sheet
      - Metal
      - RawMaterial
      - CraftMaterials
      - Ingot
  - type: Lathe
    idleState: fab-idle
    runningState: fab-active
    staticPacks:
    - C_IPMTradeGoodsStatic
  - type: Anchorable
    flags:
    - Anchorable
